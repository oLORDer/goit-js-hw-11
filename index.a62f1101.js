!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired7c6=n),n.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}})),n.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),n.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}}));var o=n("bpxeT"),i=n("2TvXO"),s=n("8MBJY"),u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t){var r=c.default(e,t,"get");return l.default(e,r)};var c=f(n("1UHsN")),l=f(n("ffZzF"));function f(e){return e&&e.__esModule?e:{default:e}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,r){h.default(e,t),t.set(e,r)};var p,h=(p=n("5k7tO"))&&p.__esModule?p:{default:p};var y=n("a2hTj"),g=n("dIxxU"),v=new WeakMap,b=new WeakMap,w=function(){"use strict";function t(){e(s)(this,t),e(d)(this,v,{writable:!0,value:"28738829-9f4f28c3b0015af3dd201bcd9"}),e(d)(this,b,{writable:!0,value:"https://pixabay.com/api"}),this.page=1,this.q=null,this.per_page=40}return e(y)(t,[{key:"fetchPhotosByQuery",value:function(){var t=new URLSearchParams({key:e(u)(this,v),q:this.q,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:this.per_page,page:this.page});return e(g).get("".concat(e(u)(this,b),"/?").concat(t))}}]),t}(),_=n("iU1Pc"),m=n("7WyUK"),x=n("5IjG7"),M=document.querySelector(".search-form"),P=document.querySelector(".gallery"),k=document.querySelector(".btn"),O=new w;function T(){return(T=e(o)(e(i).mark((function t(r){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),O.q=r.currentTarget.elements.searchQuery.value,k.classList.add("is-hidden"),O.page=1,e.prev=4,e.next=7,O.fetchPhotosByQuery();case 7:if(0!==(a=e.sent).data.total){e.next=10;break}return e.abrupt("return",_.Notify.warning("Sorry, there are no images matching your search query. Please try again."));case 10:O.page*O.per_page<a.data.totalHits&&(console.log("total:",a.data.total),k.classList.remove("is-hidden")),_.Notify.success("Was founded: ".concat(a.data.total," images")),P.innerHTML=(0,m.default)(a.data.hits),j.refresh(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),_.Notify.failure(e.t0.message);case 19:case"end":return e.stop()}}),t,null,[[4,16]])})))).apply(this,arguments)}function q(){return(q=e(o)(e(i).mark((function t(){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.page+=1,e.next=3,O.fetchPhotosByQuery();case 3:r=e.sent;try{O.page*O.per_page>=r.data.totalHits&&(console.log("hits:",r.data.hits.length),_.Notify.warning("We're sorry, but you've reached the end of search results."),k.classList.add("is-hidden")),P.insertAdjacentHTML("beforeend",(0,m.default)(r.data.hits)),j.refresh()}catch(e){console.log("err:"+err)}case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}M.addEventListener("submit",(function(e){return T.apply(this,arguments)})),k.addEventListener("click",(function(){return q.apply(this,arguments)}));var j=new(e(x))(".gallery a",{captionsData:"alt",captionPosition:"bottom",captionDelay:250})}();
//# sourceMappingURL=index.a62f1101.js.map
